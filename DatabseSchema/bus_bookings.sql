-- MySQL dump 10.13  Distrib 8.0.38, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: bus
-- ------------------------------------------------------
-- Server version	8.0.39

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `bookings`
--

DROP TABLE IF EXISTS `bookings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `bookings` (
  `BookingID` int NOT NULL AUTO_INCREMENT,
  `BookingReference` varchar(20) NOT NULL,
  `BusID` int NOT NULL,
  `TotalAmount` decimal(10,2) NOT NULL,
  `BookingDateTime` datetime DEFAULT CURRENT_TIMESTAMP,
  `PaymentStatus` enum('PENDING','CONFIRMED','CANCELLED','REFUNDED') DEFAULT 'CONFIRMED',
  `user_id` bigint NOT NULL DEFAULT '0',
  PRIMARY KEY (`BookingID`),
  UNIQUE KEY `BookingReference` (`BookingReference`),
  KEY `BusID` (`BusID`),
  KEY `fk_user_id` (`user_id`),
  CONSTRAINT `bookings_ibfk_1` FOREIGN KEY (`BusID`) REFERENCES `buses` (`BusID`),
  CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bookings`
--

LOCK TABLES `bookings` WRITE;
/*!40000 ALTER TABLE `bookings` DISABLE KEYS */;
INSERT INTO `bookings` VALUES (2,'BK2828068',10,198.80,'2025-03-31 12:03:48','CONFIRMED',0),(3,'BK3325091',10,198.80,'2025-03-31 12:12:05','CONFIRMED',0),(4,'BK3893234',11,218.75,'2025-03-31 12:21:33','CONFIRMED',0),(5,'BK3935235',11,402.50,'2025-03-31 12:22:15','CONFIRMED',0),(6,'BK4091970',11,494.38,'2025-03-31 12:24:51','CONFIRMED',0),(7,'BK12524782',11,586.25,'2025-03-31 14:45:24','CONFIRMED',0),(8,'BK13342977',13,586.25,'2025-03-31 14:59:02','CONFIRMED',0),(9,'BK17948933',11,586.25,'2025-03-31 16:15:48','CONFIRMED',0),(10,'BK23819230',11,218.75,'2025-03-31 17:53:39','CONFIRMED',0),(11,'BK92178284',11,402.50,'2025-04-01 12:52:58','CONFIRMED',0),(12,'BK2587370',11,586.25,'2025-04-01 15:46:27','CONFIRMED',0),(13,'BK32005948',11,402.50,'2025-04-05 11:16:45','CONFIRMED',0),(14,'BK32101651',11,310.63,'2025-04-05 11:18:21','CONFIRMED',0),(15,'BK60293854',15,2093.00,'2025-04-12 17:48:13','CONFIRMED',0),(16,'BK47757622',15,1064.00,'2025-04-13 18:05:57','CONFIRMED',0),(17,'BK66018409',15,1064.00,'2025-04-15 02:56:58','CONFIRMED',0),(18,'BK33802984',13,402.50,'2025-04-15 21:46:42','CONFIRMED',0),(19,'BK50303445',13,218.75,'2025-04-16 02:21:43','CONFIRMED',20250413224326216),(20,'BK53212195',13,402.50,'2025-04-16 03:10:12','CONFIRMED',20250413224326216),(21,'BK81661452',13,218.75,'2025-04-16 11:04:21','CONFIRMED',20250413224326216),(22,'BK84019745',13,218.75,'2025-04-16 11:43:39','CONFIRMED',20250413224326216),(23,'BK60237119',13,218.75,'2025-04-19 16:27:17','CONFIRMED',20250413224326216),(24,'BK62613697',11,218.75,'2025-04-19 17:06:53','CANCELLED',20250413224326216),(25,'BK66615791',13,218.75,'2025-04-19 18:13:35','CANCELLED',20250413224326216),(26,'BK66769634',13,218.75,'2025-04-19 18:16:09','CANCELLED',20250413224326216),(27,'BK78083808',13,402.50,'2025-04-19 21:24:43','CANCELLED',20250419212104584),(28,'BK88217631',13,218.75,'2025-04-20 00:13:37','CANCELLED',20250419212104584),(29,'BK88583083',13,218.75,'2025-04-20 00:19:43','REFUNDED',20250419212104584),(30,'BK88696476',13,218.75,'2025-04-20 00:21:36','CANCELLED',20250419212104584),(31,'BK89151417',13,218.75,'2025-04-20 00:29:11','CANCELLED',20250419212104584),(32,'BK35985868',13,586.25,'2025-04-21 17:16:25','CONFIRMED',20250413224326216),(33,'BK4616475',19,297.50,'2025-05-08 17:13:36','CONFIRMED',20250413224326216);
/*!40000 ALTER TABLE `bookings` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-09-15 14:41:42
